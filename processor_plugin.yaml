#--------------------------------
# custom.yaml
# patch:
#   __include: processor_plugin:/patch
#
#--------------------------------
patch:
  engine/processors/@after 0: lua_processor@init_processor@module
  #engine/processors/@after 0: lua_processor@init_proc
  schema/dependencies/+:
    - essay
    - essay_cn
  module:
    modules:
      - { prescription: "lua_processor@command.proc@command" } # lua/command/proc.lua
      - { prescription: "lua_processor@select_character.proc" } # lua/select_character/proc.lua
      - { prescription: "lua_processor@english.proc@english" } # lua/english/proc.lua
      - { prescription: "lua_processor@conjunctive.proc@conjunctive"} # conjunctive/prac.lua , module_name: "conjunctive.proc" }
      - { prescription: "lua_processor@multi_reverse.proc@multi_reverse" } # lua/multi_reverse/proc.lua
        
    keybinds:
      prtscr: "Control+F12" # commit_text of menu list
      prtkey: "Shift+F12"
      reload: "F9"


    # init_processor   append comopents
    before_modules:
      filters:
        - lua_filter@stroke_count
        #- lua_filter@debug_filter
      segments:
      translators:
        - lua_translator@unicode_tran
        #- lua_translator@ecdict
    after_modules:
      filters:
        - lua_filter@stroke_count
        #- uniquifier
        #- lua_filter@multi_reverse.filter@S_luna_pinyin
        - lua_filter@debug_filter
      segments:
      translators:
        - lua_translator@memory_tran@luna_pinyin
        - lua_translator@select_character.tran@select_character   # select_character é…ä»¶ æ¨¡æ“¬çŸ©é™£ç¬¦è™Ÿè¡¨ []1-0 é¸å­— /emj /nu /sma /smb /smc

  # select_character name_space translator é ˆè¦èª¿ç”¨åæŸ¥å­—å…¸å’Œ comment_format è¨­å®š name_space :translator
  # name_space of select_character hot-key
  #
  #translator/dictionary:
  #translator/comment_format:
  #translator/preedit_format:
  translator/keybinds:
    next: [ #--->
    prev: ] #<--
  #-------------- modules initialize of name_space
  multi_reverse:
    keybinds:
      toggle: "Control+6"
      qcode: "Control+7"
      completion: "Control+8"
      next: "Control+9"
      prev: "Control+0"
      hold: "Shift_L"
    extensions: #ç”¨æ–¼ æ–¹æ¡ˆåªæœ‰ä¸»å­—å…¸,ç”¨ä»¥åæŸ¥å…¶ä»–æ–¹æ¡ˆä¸»å­—å…¸
      - luna_pinyin #  add  lua_filter@multi_reverse.filter@S_luna_pinyin  è®€å– luna_pinyin.schema:/translator data
      - cangjie5
  #------------ english module
  english: #
    #tag: abc #  ä¸­æ–‡æ¨¡å¼èª¿ç”¨ è‹±æ–‡å­—å…¸ default : none
    dictionary: #ecdict #english # defaul english_tw å­—å…¸æ©ä½ç½® lua/tools/english.txt
    keybinds:
      toggle: F10 #  enable/disable key
      mode: "Shift+F10"

  #ç¹é«”ä½¿ç”¨è€… simplifier/opencc_config: t2s.json (é è¨­)  default: ç¹é«”è©åº« enable: ç°¡é«”è©åº«
  #conjunctive_cn/files: [essay.txt, essay_cn.txt]
  #ç°¡é«”ä½¿ç”¨è€… simplifier/opencc_config: s2t.json (é è¨­)  default: é«”ç°¡è©åº« enable: ç¹é«”è©åº«
  #conjunctive_cn/files: [essay_cn.txt, essay.txt]
  conjunctive:
    files: essay.txt # essay_cn.txt
    tran_name_space: luna_pinyin
    escape_char: ".-"

    keybinds:
      toggle: "F11"
      trigger: "~"
      command: "C"
      restory: "B"
      histroy: "H"
      left: "<"
      right: ">"



  debug_filter:
    output_format: [dtype,type,start,_end,preedit,quality,input,ainput,error]
    #tags:
  # switches default
  #__patch: append_sw
#append_sw:
  switches/+:
    - name: conjunctive
      states: [ ğŸˆ²,è¯]
      reset: 1
    - name: english
      states: [ ğŸˆ²,è‹±]
    - name: multi_reverse
      states: [ ğŸˆ²,æŸ¥]
    - name: qcode
      states: [ ğŸˆ²,çŸ­]
    - name: completion
      states: [ ğŸˆ²,æœª]
    - name: _debug
      states: [ ğŸˆ² , ğŸ]
      reset: 0
